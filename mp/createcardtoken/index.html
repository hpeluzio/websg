<!DOCTYPE html>
<html>
  <head>
    <title>Create Token MercadoPago</title>
    <script src="https://sdk.mercadopago.com/js/v2"></script>
  </head>

  <body>
    CreateCardToken: processing......
    <script>
      setTimeout(() => {
        const createToken = async () => {
          // const mp = new window.MercadoPago(window.PUBLIC_KEY);
          const mp = new window.MercadoPago(
            'TEST-5cfa7891-ec91-488e-9f6a-a27cf73ddec6',
          );

          const token = await mp.createCardToken({
            cardNumber: window.cardNumber,
            cardholderName: window.cardholderName,
            identificationType: window.identificationType,
            identificationNumber: window.identificationNumber,
            securityCode: window.securityCode,
            cardExpirationMonth: window.cardExpirationMonth,
            cardExpirationYear: window.cardExpirationYear,
          });

          console.log('Token: ', token);

          window.ReactNativeWebView.postMessage(
            JSON.stringify({ token: token }),
          );
        };

        createToken();
      }, 50);
    </script>
  </body>
</html>
