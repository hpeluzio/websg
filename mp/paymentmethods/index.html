<!DOCTYPE html>
<html>
  <head>
    <title>getPaymentMethods MercadoPago</title>
    <script src="https://sdk.mercadopago.com/js/v2"></script>
  </head>

  <body>
    PaymentMethods: processing......

    <script>
      setTimeout(() => {
        const loadPaymentMethods = async () => {
          // const mp = new window.MercadoPago(window.PUBLIC_KEY);
          const mp = new window.MercadoPago(
            'TEST-5cfa7891-ec91-488e-9f6a-a27cf73ddec6',
          );

          console.log('cardNumber: ', window.cardNumber);

          const paymentMethods = await mp.getPaymentMethods({
            bin: window.cardNumber,
          });

          console.log('paymentMethods: ', paymentMethods);

          window.ReactNativeWebView.postMessage(
            JSON.stringify({ paymentMethods: paymentMethods }),
          );
        };
        loadPaymentMethods();
      }, 50);
    </script>
  </body>
</html>
